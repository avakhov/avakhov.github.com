<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Alexey Vakhov</title>
    <description>Блог, милый блог. Новая история каждый будний день.</description>
    <link>http://vakhov.me</link>
    <atom:link href="http://vakhov.me/atom.xml" rel="self" type="application/rss+xml" />
    
      <item>
        <title>Плато продуктивности /пост ни о чем/</title>
        <description>
          
          &lt;p&gt;Залез я тут в википедию почитать про плато продуктивности по Гартнеру. Так оно не плато, а платеау.
Вот английский язык именно такой.
Все просто, просто, а потом вжух и получите, распишитесь - платеау. Причем в транскрипции сразу
два значка,
которые меня всегда пугали - [&amp;#39;plætəu]. Ну ладно, это на их совести останется.&lt;/p&gt;

&lt;p&gt;Вот картинка из статьи &lt;a href=&quot;https://en.wikipedia.org/wiki/Hype_cycle&quot;&gt;Hype cycle&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&lt;img src=https://upload.wikimedia.org/wikipedia/commons/thumb/9/94/Gartner_Hype_Cycle.svg/559px-Gartner_Hype_Cycle.svg.png&gt;&lt;/p&gt;

&lt;p&gt;Вообще я люблю консультантов, как людей, которые аккумулируют знания по отрасли, но, конечно частенько
они перегибают палку. &amp;quot;Слоуп оф инлайтенмент&amp;quot; - наверняка в Гартнере сразу увольняют
тех, кто не может простые вещи сложными словами описать.&lt;/p&gt;

&lt;p&gt;И напоследок крутейшая шутка с баша:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bash.im/quote/444051&quot;&gt;http://bash.im/quote/444051&lt;/a&gt; &lt;br&gt;
Цикл внедрения нового программного продукта глазами админов: &lt;br&gt;
1 Отрицание. &lt;br&gt;
2 Гнев. &lt;br&gt;
3 Торги. &lt;br&gt;
4 Депрессия. &lt;br&gt;
5 Принятие (в эксплуатацию).&lt;/p&gt;

        </description>
        <pubDate>Mon, 03 Apr 2017 00:00:00 +0300</pubDate>
        <link>http://vakhov.me/blog/2017/04/03/gartner/index.html</link>
        <guid isPermaLink="true">http://vakhov.me/blog/2017/04/03/gartner/index.html</guid>
      </item>
    
      <item>
        <title>Новый формат</title>
        <description>
          
          &lt;p&gt;Привет, дорогие читатели! Я решил немного поменять формат своего блога, теперь буду публиковать каждый рабочий
день одно новое блюдо, которое готовлю самостоятельно. Сегодня представляю вашему вниманию говядину (лопатка), запеченую
в фольге:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/18/1apr.jpg&quot;&gt;&lt;/p&gt;

&lt;p&gt;Подпишитесь
на новости сайта и вы узнаете рецепт мяса,
увидите фотографии новых блюд раньше всех, научитесь готовить уникальные гарниры и десерты, а также
получите шанс выиграть билет на мастер-класс по приготовлению комплексного обеда на трех человек
с автором данного блога.&lt;/p&gt;

&lt;p&gt;До новых встреч! &lt;img class=&#39;emoji&#39; title=&#39;:cat:&#39; alt=&#39;:cat:&#39; src=&#39;https://assets.github.com/images/icons/emoji/unicode/1f431.png&#39; height=&#39;20&#39; width=&#39;20&#39; align=&#39;absmiddle&#39; /&gt; &lt;img class=&#39;emoji&#39; title=&#39;:cat:&#39; alt=&#39;:cat:&#39; src=&#39;https://assets.github.com/images/icons/emoji/unicode/1f431.png&#39; height=&#39;20&#39; width=&#39;20&#39; align=&#39;absmiddle&#39; /&gt; &lt;img class=&#39;emoji&#39; title=&#39;:cat:&#39; alt=&#39;:cat:&#39; src=&#39;https://assets.github.com/images/icons/emoji/unicode/1f431.png&#39; height=&#39;20&#39; width=&#39;20&#39; align=&#39;absmiddle&#39; /&gt;&lt;/p&gt;

        </description>
        <pubDate>Sat, 01 Apr 2017 00:00:00 +0300</pubDate>
        <link>http://vakhov.me/blog/2017/04/01/new-form/index.html</link>
        <guid isPermaLink="true">http://vakhov.me/blog/2017/04/01/new-form/index.html</guid>
      </item>
    
      <item>
        <title>OS и автоматизация</title>
        <description>
          
          &lt;p&gt;Люди спорят о том какой еще язык программирования появится,
а сейчас мне сильно не хватает нормальной хипстерской
облачной операционной системы. Которая вжух и поставилась. И сразу же докеры, сервисы, логи
все как-то само. И не надо бригаду администраторов, которые это вжух делают сегодня вручную.&lt;/p&gt;

&lt;p&gt;Еще во всех абсолютно языках не хватает возможности контролируемо и просто вызывать
внешние процессы, заходить на ssh, опрашивать урлы и прочее, что нужно при любой автоматизации.
Вот как человек делает. Он попробовал зайти на сервер, не получилось - попинговал, посмотрел DNS.
Однако сейчас даже чтобы вызвать внешний bash-скрипт и корректно обработать код возрата
нужно делать
какие-то нетривиальные движения (привет &lt;code&gt;popen3&lt;/code&gt; и братья в руби).&lt;/p&gt;

&lt;p&gt;То есть нужна операционка и надежные, простые инструменты автоматизации. Вот такой запрос к обществу.&lt;/p&gt;

        </description>
        <pubDate>Fri, 31 Mar 2017 00:00:00 +0300</pubDate>
        <link>http://vakhov.me/blog/2017/03/31/os/index.html</link>
        <guid isPermaLink="true">http://vakhov.me/blog/2017/03/31/os/index.html</guid>
      </item>
    
      <item>
        <title>CircleCI PosgteSQL 9.6</title>
        <description>
          
          &lt;p&gt;Прочитав несколько тьюториалов разной степеним мутности, я наконец нашел способ
как запускать тесты в CircleCI под постгресом 9.6:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;# circle.yml
dependencies:
  pre:
    - sudo service postgresql stop
    - sudo mv /usr/lib/postgresql-9.6/9.6 /usr/lib/postgresql/9.6
    - sudo mv /etc/postgresql-9.6/9.6 /etc/postgresql/9.6
    - sudo service postgresql start 9.6
    - sudo -u postgres psql -p 5433 -c &amp;quot;create user ubuntu with password &amp;#39;ubuntu&amp;#39;;&amp;quot;
    - sudo -u postgres psql -p 5433 -c &amp;quot;alter user ubuntu with superuser;&amp;quot;

database:
  override:
    - mv config/database.yml.ci config/database.yml
    - bundle exec rake db:create db:schema:load --trace
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;и в файле &lt;code&gt;config/database.yml.ci&lt;/code&gt; прописать:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;test:
  adapter: postgresql
  database: circle_ruby_test
  username: ubuntu
  password: ubuntu
  host: localhost
  port: 5433
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Странно, что это не из коробки, но так часто бывает, когда из инструментов 21-го века торчат уши
20-го.&lt;/p&gt;

        </description>
        <pubDate>Thu, 30 Mar 2017 00:00:00 +0300</pubDate>
        <link>http://vakhov.me/blog/2017/03/30/circle/index.html</link>
        <guid isPermaLink="true">http://vakhov.me/blog/2017/03/30/circle/index.html</guid>
      </item>
    
      <item>
        <title>Стачка</title>
        <description>
          
          &lt;p&gt;Так, все формальности улажены, билеты куплены, 15-го апреля буду рассказывать про искусство
выживания в растущем проекте в славном городе Ульяновске. В школе, вернувшись с какой-то олимпиады,
я рассказывал всем, что там всего одна улица Ленина, просто она извивается по
всему городу. Люди обычно верили в первый момент.&lt;/p&gt;

&lt;p&gt;Организаторы Стачки достаточно обыграли все моменты истории своего города, поэтому пошутить уже
особо не о чем. Материал готовлю новый, да и доклад будет подлиннее. К тому же мы гораздо более
докер-компания сегодня, чем две недели назад. А через две неделю ух, вообще будет
докер в докере на докере. Меняйся быстро, меняйся часто и задумывайся
надо ли вообще так быстро и часто меняться, вот он и есть дух ДевОпс. О-м-м-м.&lt;/p&gt;

        </description>
        <pubDate>Wed, 29 Mar 2017 00:00:00 +0300</pubDate>
        <link>http://vakhov.me/blog/2017/03/29/stachka/index.html</link>
        <guid isPermaLink="true">http://vakhov.me/blog/2017/03/29/stachka/index.html</guid>
      </item>
    
      <item>
        <title>Накладываем швы на ActiveRecord::SchemaDumper</title>
        <description>
          
          &lt;p&gt;В рейлс &lt;code&gt;primary key&lt;/code&gt; - желательно делать &lt;code&gt;id&lt;/code&gt;, формально конечно можно поставить что-то другое, но
гарантия заканчивается очень быстро. У нас в одном проекте сделали ключом &lt;code&gt;uuid&lt;/code&gt; и конечно же сломался дамп
схемы. Где сломался дамп схемы, там сломались тесты и вообще не хорошо все это.&lt;/p&gt;

&lt;p&gt;Иногда получается вставить аккуратный монкей-патч, но тут нужно было фиксить увесистый приватый метод 
&lt;code&gt;ActiveRecord::SchemaDumper#table&lt;/code&gt;. Обычно я делаю так:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Добавляю файл в &lt;code&gt;config/initializers&lt;/code&gt;, обычно это достаточно удачное время&lt;/li&gt;
&lt;li&gt;Копирую подопытный метод целиком, по возможности с условиями: &lt;code&gt;if defined?(ActiveRecord::SchemaDumper) ...&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Обязательно ставлю ассерт на текущую версию рейлс &lt;code&gt;raise &amp;quot;review and update this patch for Rails upgrade&amp;quot; if Rails.version != &amp;quot;4.2.8&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Каждое вмешательство оформляю ярко, примерно так:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;c1&quot;&gt;##### [BEGIN PATCH 2]&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# # original code&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# next if column.name == pk&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# @connection.column_spec(column, @types)&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;# # patched code&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;column&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pk&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pk&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;uuid&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column_spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@types&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;primary&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;primary: true&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;next&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column_spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@types&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;##### [END PATCH 2]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;В данном случае удалось обойтись тремя швами и схема как новенькая.&lt;/p&gt;

        </description>
        <pubDate>Tue, 28 Mar 2017 00:00:00 +0300</pubDate>
        <link>http://vakhov.me/blog/2017/03/28/protez/index.html</link>
        <guid isPermaLink="true">http://vakhov.me/blog/2017/03/28/protez/index.html</guid>
      </item>
    
      <item>
        <title>Глубоководные работы</title>
        <description>
          
          &lt;p&gt;Недавно друг сказал в беседе полностью серьезно: &amp;quot;эпоха ботов, конечно уже прошла,
месяцев 8 назад ...&amp;quot; Я не очень помню, что дальше было, но эта фраза очень позабавила.
И действительно
боты очень ярко сверкали на каждом ресурсе совсем недавно, а сейчас стали где-то рабочим инструментом,
где-то не стали, но шума однозначно производят сильно меньше.&lt;/p&gt;

&lt;p&gt;В такой среде, где эпоха уходит за 8 месяцев, может напасть уныние и для этого есть все основания.
В принципе, читая любую, самую свежую техническую статью, нужно понимать, что она уже устарела. Вместе
с технологией.&lt;/p&gt;

&lt;p&gt;Пока я нашел такое лекарство. Технологии я не оцениваю с точки зрения новизны, а стараюсь просто погрузится
в суть чуть глубже, чем требует задача. И в этом есть удовольствие и от работы со старыми,
 и с новыми технологиями.
Принципы реально остаются одинаковые, и старые вещи, часто действительно бывают более матерые и надежные,
зато новые однозначно
более прогрессивные и залихватские.&lt;/p&gt;

&lt;p&gt;Осилив одну глубину, вторая дается гораздо легче, а радует также.
Из свеженького, в одной
задумке мне пригодится утилита &lt;code&gt;script&lt;/code&gt;, ей 100500 лет, но конечно я про нее никогда до этого не слышал.
Знаете такую? Если идея выгорит - расскажу.&lt;/p&gt;

        </description>
        <pubDate>Mon, 27 Mar 2017 00:00:00 +0300</pubDate>
        <link>http://vakhov.me/blog/2017/03/27/glub/index.html</link>
        <guid isPermaLink="true">http://vakhov.me/blog/2017/03/27/glub/index.html</guid>
      </item>
    
      <item>
        <title>Цифровой бардак, здравствуй, это я</title>
        <description>
          
          &lt;p&gt;Довольно много
времени назад гмейл предложил забить на папки и складывать письма в большую кучу. Немного посомневавшись,
я принял его
предложение.
Дела веду
в тудуисте, в трелло, на бумажках у компа, в гугл-доках, немножко есть файлов в яндекс-диске,
в гугл драйве, рабочем и личном, в дропбоксе, какие-то няшки валяются в еверноте, который уже не открывал
несколько месяцев, и наверняка где-то еще.&lt;/p&gt;

&lt;p&gt;Прозрение, что мир бардака окончательно поглотил человечество, наступило сегодня,
когда решил упорядочить контакты.
Вообще контакты от гугла весьма странная программа, она подтягивает какой-то шлак из гугл плюса (WTF,
почему это еще живо), плохо находит дубли и из настроек можно выбрать только сортировку по имени или
фамилии.
И вдруг понял, что в современном мире не надо и невозможно держать единый список контактов. Всегда
без проблем можно найти человека в телеграмме, вотсаппе, фейсбуке или твиттере, а может быть по профилю
гитхаба, в слеке или еще где.&lt;/p&gt;

&lt;p&gt;Современный цифровой мир - ад для перфекциониста старой школы, любителя каталогизации
и систематизации. Но я вылечился. Раз так, значит так. Буду смотреть, как дальше пойдет.&lt;/p&gt;

        </description>
        <pubDate>Fri, 24 Mar 2017 00:00:00 +0300</pubDate>
        <link>http://vakhov.me/blog/2017/03/24/bardak/index.html</link>
        <guid isPermaLink="true">http://vakhov.me/blog/2017/03/24/bardak/index.html</guid>
      </item>
    
      <item>
        <title>Black Black Rsync Magic</title>
        <description>
          
          &lt;p&gt;На днях переносил террабайт пдфок с одного сервера на другой. Генетическая
память подсказывала, что &lt;code&gt;rsync -avP --del&lt;/code&gt; неплохой выбор. Решил для надежности посмотреть хелп:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$ rsync --help | grep -- &amp;#39;-a&amp;#39;
 -a, --archive     archive mode; equals -rlptgoD (no -H,-A,-X)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Я люблю консоль, но иногда, конечно, с изысканности утилит мне становится очень смешно.
rlptgoD вам, no HAX, братишки! А мы еще
даже не разобрались с комбинаторикой слешей в путях &lt;img class=&#39;emoji&#39; title=&#39;:scream_cat:&#39; alt=&#39;:scream_cat:&#39; src=&#39;https://assets.github.com/images/icons/emoji/unicode/1f640.png&#39; height=&#39;20&#39; width=&#39;20&#39; align=&#39;absmiddle&#39; /&gt;, IDDQD.&lt;/p&gt;

        </description>
        <pubDate>Thu, 23 Mar 2017 00:00:00 +0300</pubDate>
        <link>http://vakhov.me/blog/2017/03/23/rsync/index.html</link>
        <guid isPermaLink="true">http://vakhov.me/blog/2017/03/23/rsync/index.html</guid>
      </item>
    
      <item>
        <title>Маленькая гениальная штучка в прометее</title>
        <description>
          
          &lt;p&gt;При настройке прометея через сервис дискавери консула
поле &lt;code&gt;__meta_consul_tags&lt;/code&gt; состоит из тегов, перечисленных
через запятую. Внимание, с дополнительными запятыми в начале и в конце строки! &lt;img class=&#39;emoji&#39; title=&#39;:scream_cat:&#39; alt=&#39;:scream_cat:&#39; src=&#39;https://assets.github.com/images/icons/emoji/unicode/1f640.png&#39; height=&#39;20&#39; width=&#39;20&#39; align=&#39;absmiddle&#39; /&gt;
То есть массив тегов &lt;code&gt;[job-A, job-B]&lt;/code&gt; превращается в строку &lt;code&gt;,job-A,job-B,&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Это нужно для более легкой настройки релейбелинга, когда вхождение тега мы можем искать
по простому регекспу &lt;code&gt;.*,job-A,.*&lt;/code&gt;, не отвлекаясь на отсутствие запятой вначале или в конце
строки, как было бы в случае простого &lt;code&gt;join(&amp;quot;,&amp;quot;)&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Про эту штуку узнал из статьи &lt;a href=&quot;https://www.robustperception.io/little-things-matter/&quot;&gt;Little Things Matter&lt;/a&gt; и испытал огромное эстетическое удовольствие. И да, мы это используем в продакшене.&lt;/p&gt;

        </description>
        <pubDate>Wed, 22 Mar 2017 00:00:00 +0300</pubDate>
        <link>http://vakhov.me/blog/2017/03/22/role/index.html</link>
        <guid isPermaLink="true">http://vakhov.me/blog/2017/03/22/role/index.html</guid>
      </item>
    
  </channel>
</rss>
