
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Booter 1.0.0.rc1 - Алексей Вахов </title>
  <meta name="author" content="Alexey Vakhov">

  
  <meta name="description" content="С радостью сообщаю, что на прошлой неделе зарелизился бутер 1.0.0.rc1, первый релиз-кандидат https://github.com/boshie/booter. Он пока еще без &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://vakhov.me/blog/2012/04/17/booter-rc1/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Alexey Vakhov" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-10590669-8']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Alexey Vakhov</a></h1>
  
    <h2>Ruby on Rails Developer</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:vakhov.me" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Booter 1.0.0.rc1</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-17T18:23:00+04:00" pubdate data-updated="true">Apr 17<span>th</span>, 2012</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p><img class="left" src="/images/5-booter/burger.jpg">
С радостью сообщаю, что на прошлой неделе зарелизился бутер 1.0.0.rc1, первый релиз-кандидат <a href="https://github.com/boshie/booter">https://github.com/boshie/booter</a>. Он пока еще без кунжута, но уже довольно питательный :-)</p>

<p>Для меня эта библиотека очень важна, так как это мой первый настоящий опер-сорс.</p>

<!-- more -->


<p>История появления гема очень простая. Я люблю использовать твиттеровский бутстрап для прототипов и
бэкендов. Сначала использовал его напрямую, потом написал простой форм-билдер. Затем
вынес стили и билдер в отдельный гем, чтобы шарить между проектами. Я не стал использовать simple_form или
любую другую обертку, так как мне были нужны пару простых фич и я не хотел тянуть в проекты
большие многофункциональные библиотеки.</p>

<p>Долгое время гем состоял из 3-х файлов и находился в версии
0.2, но пару недель назад <a href="https://github.com/alexesDev">Алексей Юрченко</a> прислал мне пулриквест под
номером 1. Первый для меня, как мейнтейнера гема, и первый для него, как для контрибьютера опен сорс.
Я принял изменения, которые он предложил, чтобы использовать библиотеку в своем проекте,
и решил сделать из бутера
полноценный гем. Я понимаю, что бутер не завоюет мир, но зато мы
прошли практически все фазы, принятые у современного программного обеспечения, своего
рода боевое крещение.</p>

<p>Бутер покрыт спеками, которые запускаются на трависе. Он представляет из себя полноценный енджин:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">module</span> <span class="nn">Booter</span>
</span><span class='line'>  <span class="k">class</span> <span class="nc">Engine</span> <span class="o">&lt;</span> <span class="o">::</span><span class="no">Rails</span><span class="o">::</span><span class="no">Engine</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Поддерживается <a href="http://semver.org/">семантическая версионность</a>. Оказывается когда я первый
раз  читал этот
документ, то не заметил важныe пункты про версию 1.0.0, после которой API становится публичным:</p>

<blockquote><p>Major version zero (0.y.z) is for initial development. Anything may change at any time. The public API should not be considered stable.</p></blockquote>




<blockquote><p>Version 1.0.0 defines the public API. The way in which the version number is incremented after this release is dependent on this public API and how it changes.</p></blockquote>


<p>Таким образом, если гем стал 1.0 и автор придерживается семантических версий, то API этого гема
можно считать стабильным.</p>

<p>Для бутера создано на Хероку <a href="http://growing-cloud-6915.heroku.com">демонстрационное приложение</a>
(работает оно еще не совсем хорошо).
В <a href="https://github.com/boshie/booter#readme">ридми</a> описаны примеры
использования библиотеки. Другими словами, полный джентельменский набор.
Сейчас мы доделываем фичи, которые хотим включить в 1.0, но релиз-кандидат тоже рабочий,
он работает в нескольких проектах.</p>

<p>Разрабатывать гем довольно интересно. Если в проект нужно добавлять изменения как можно быстрее и
сразу же выкатывать на продакшн, то гем разрабатывается в более спокойном режиме, так как
всегда нужно думать об уже существующих проектах, чтобы не потерять совместимость, не
сделать слишком общее решение или наоборот слишком частное. Более того внести
маленькое, сиюминутное изменение в гем сильно дороже, чем в обычный проект, так как нужно
потестировать, присвоить новую версию,
выложить на rubygems.</p>

<p>Поэтому сам процесс разработки гема настраивает на накопление изменений и временные
хаки до релиза следующих стабильных версий. Хаки делать очень просто, обычно у всех
гемов есть константа <code>VERSION</code>, которую можно проверить и бросить эксепшн если появилась
новая версия и вы обновили свой гем-файл.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">raise</span> <span class="s2">&quot;Remove code below&quot;</span> <span class="k">if</span> <span class="no">Booter</span><span class="o">::</span><span class="no">VERSION</span> <span class="o">!=</span> <span class="s1">&#39;1.0.0.rc1&#39;</span>
</span><span class='line'><span class="c1"># ...</span>
</span></code></pre></td></tr></table></div></figure>


<p>Думаю вы помните, что рейлс, по-моему 2.3.13, не получились,
так как что-то отвалилось в процессе релиза и после этого сразу же вышли 2.3.14. Мне кажется, что
коре тим постарается больше так не делать, потому-что это слишком большой стресс.
Cейчас даже есть документ, в котором описано как релизить рельсы правильно: <a href="https://github.com/rails/rails/blob/master/RELEASING_RAILS.rdoc">https://github.com/rails/rails/blob/master/RELEASING_RAILS.rdoc</a>.</p>

<p>Кстати создать скелет нового гема можно двумя способами <code>bundle gem &lt;имя-гема&gt;</code> или
<code>rails plugin new &lt;имя-гема&gt;</code>.
Первый вариант годится для низкоуровневых библиотек. <code>rails plugin new</code> же создает помимо прочего dummy-приложение для тестирования
енджинов, и является современной заменой гема enginex, который создал Жозе Валим для своей
книги &#8220;Crafting Rails Applications&#8221;.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Alexey Vakhov</span></span>

      








  


<time datetime="2012-04-17T18:23:00+04:00" pubdate data-updated="true">Apr 17<span>th</span>, 2012</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://vakhov.me/blog/2012/04/17/booter-rc1/" data-via="" data-counturl="http://vakhov.me/blog/2012/04/17/booter-rc1/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/04/13/experience-and-monkeys/" title="Previous Post: Опыт и его последствия">&laquo; Опыт и его последствия</a>
      
      
        <a class="basic-alignment right" href="/blog/2012/04/22/rails-templates/" title="Next Post: Автоматизация создания нового приложения с помощью рейлс-темплейтов">Автоматизация создания нового приложения с помощью рейлс-темплейтов &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <style>
  section#about p {margin-bottom: 5px;}
  section#about p img {vertical-align: middle;}
  section#about img.logo {margin-left: 5px;}
</style>

<section id="about">
  <img src="https://secure.gravatar.com/avatar/54e74983d81fa2fbe4c28e8392532f18" class="logo">
  <p><img src="/images/twitter.ico"> - <a href="https://twitter.com/#!/avakhov">twitter</a></p>
  <p><img src="/images/gmail.ico"> - vakhov@gmail.com</p>
  <p><img src="/images/github.ico"> - <a href="https://github.com/avakhov">github</a></p>
  <p><img src="/images/skype.ico"> - avakhov</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/12/25/say-hello-4-times/">4 способа сказать миру привет</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/20/ruby-overload-operators/">Перегрузка операторов в руби и простая визуализация</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/16/show-me-your-monkey-patch-file/">Покажи свой Monkey Patch</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/09/frontend-job/">Ищем Javascript-разработчика</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/06/javascript-testing/">3 способа автоматического тестирования Javascript</a>
      </li>
    
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Alexey Vakhov -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'vakhov-me';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://vakhov.me/blog/2012/04/17/booter-rc1/';
        var disqus_url = 'http://vakhov.me/blog/2012/04/17/booter-rc1/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
